{% extends "base.html" %}
{% block title %}Waiting for Driver{% endblock %}
{% block content %}

<style>
  body { font-family: Arial, Helvetica, sans-serif; }
  .card { max-width:700px; margin:40px auto; background:white; padding:24px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.06); }
  h1 { margin-top:0 }
  .addresses { display:flex; gap:12px; flex-direction:column; }
  .addr { padding:12px; border-radius:8px; background:#fbfbfd; border:1px solid #eee }
  .meta { margin-top:14px; color:#555 }
  .loader { margin:28px auto; width:80px; height:80px; position:relative }

  .dot { width:16px; height:16px; border-radius:50%; background:#007bff; position:absolute; animation:spin 1s linear infinite }
  .dot:nth-child(2) { transform: rotate(120deg) translate(28px); animation-delay: -0.16s }
  .dot:nth-child(3) { transform: rotate(240deg) translate(28px); animation-delay: -0.32s }
  @keyframes spin { 0% { transform: rotate(0deg) translate(28px) } 100% { transform: rotate(360deg) translate(28px) } }

  .small { font-size:0.9rem; color:#666 }
  .center { text-align:center }
</style>

<div class="card">
  <h1>Waiting for Driverâ€¦</h1>
  <p class="small">Ride ID: {{ ride['id'] }}</p>

  <div class="addresses">
    <div class="addr">
      <strong>Pickup</strong>
      <div>{{ ride['pickup_address'] }}</div>
    </div>
    <div class="addr">
      <strong>Dropoff</strong>
      <div>{{ ride['dropoff_address'] }}</div>
    </div>
  </div>

  <div class="center">
    <div class="loader" aria-hidden="true">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>

  <div class="meta center">
    {% if ride['estimated_time_minutes'] %}
      <p>Estimated time for driver arrival:
        <strong>{{ ride['estimated_time_minutes'] }} minutes</strong>
      </p>
    {% else %}
      <p>Estimated time for driver arrival: <strong>Pending</strong></p>
    {% endif %}

    <p class="small">Status:
      <strong>{{ ride['status'] or 'requested' }}</strong>
    </p>
  </div>

</div>

{% endblock %}
